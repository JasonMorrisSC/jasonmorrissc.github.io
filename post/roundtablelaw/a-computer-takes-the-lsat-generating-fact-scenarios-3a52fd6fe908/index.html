<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>A Computer Takes the LSAT: Generating Fact Scenarios | Jason Morris</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="This is the third in a series of posts that show how to encode LSAT Puzzles in the Ergo Lite programming language. To start from the…"><meta name=generator content="Hugo 0.98.0"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=stylesheet href=/ananke/css/main.min.css><meta property="og:title" content="A Computer Takes the LSAT: Generating Fact Scenarios"><meta property="og:description" content="This is the third in a series of posts that show how to encode LSAT Puzzles in the Ergo Lite programming language. To start from the…"><meta property="og:type" content="article"><meta property="og:url" content="https://JasonMorrisSC.github.io/post/roundtablelaw/a-computer-takes-the-lsat-generating-fact-scenarios-3a52fd6fe908/"><meta property="article:section" content="post"><meta property="article:published_time" content="2019-04-25T21:52:03+00:00"><meta property="article:modified_time" content="2019-04-25T21:52:03+00:00"><meta itemprop=name content="A Computer Takes the LSAT: Generating Fact Scenarios"><meta itemprop=description content="This is the third in a series of posts that show how to encode LSAT Puzzles in the Ergo Lite programming language. To start from the…"><meta itemprop=datePublished content="2019-04-25T21:52:03+00:00"><meta itemprop=dateModified content="2019-04-25T21:52:03+00:00"><meta itemprop=wordCount content="1323"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="A Computer Takes the LSAT: Generating Fact Scenarios"><meta name=twitter:description content="This is the third in a series of posts that show how to encode LSAT Puzzles in the Ergo Lite programming language. To start from the…"></head><body class="ma0 avenir bg-near-white"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Jason Morris</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/about/ title="About Jason page">About Jason</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/project/ title="Projects page">Projects</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/post/ title="Rules as Code Diary page">Rules as Code Diary</a></li></ul><div class=ananke-socials><a href=https://twitter.com/RoundTableLaw target=_blank class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:{{ .fill }}"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">RULES AS CODE DIARY</aside><div id=sharing class="mt3 ananke-socials"><a href="https://twitter.com/share?url=https://JasonMorrisSC.github.io/post/roundtablelaw/a-computer-takes-the-lsat-generating-fact-scenarios-3a52fd6fe908/&text=A%20Computer%20Takes%20the%20LSAT:%20Generating%20Fact%20Scenarios" class="ananke-social-link twitter no-underline" aria-label="share on Twitter"><span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:{{ .fill }}"/></svg></span></a></div><h1 class="f1 athelas mt3 mb1">A Computer Takes the LSAT: Generating Fact Scenarios</h1><time class="f6 mv4 dib tracked" datetime=2019-04-25T21:52:03Z>April 25, 2019</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>This is the third in a series of posts that show how to encode LSAT Puzzles in the Ergo Lite programming language. To start from the beginning, <a href=https://medium.com/@jason_90344/a-computer-takes-the-lsat-introduction-3a65fd8b982>go to the introductory post</a>.</p><p>In this post, I will show you how you can use Ergo Lite to automatically generate all possible schedules.</p><p>In some of the questions we are going to encode, the question will be whether something is always true or never true about a schedule that adheres to the rules. In order to allow the computer to easily answer those questions, we can have it generate all possible schedules, and simply search to see whether or not those things are always or ever true.</p><p>There are a number of ways that you can do this sort of data generation. This is just one example. Our strategy will be to create all possible valid schedules for a single day, and then combine them to make three-day festivals.</p><p>Note that we are limiting ourselves to valid schedules, because none of the questions that we are encoding ask questions about invalid schedules.</p><p>A valid schedule for a single day has between 1 and 3 screenings of different films. Schedules also have screenings, so will will start by saying that a Possible Day is a type of Schedule.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-prolog data-lang=prolog><span style=display:flex><span>PossibleDay<span style=color:#e6db74>::</span>Schedule.
</span></span></code></pre></div><p>Now we need to “create” all of the one-screening possible days. Phrased as a rule, we could say that one possible day is a single screening of a film in the first slot, for each film we know of. We can achieve that in code by making a rule.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-prolog data-lang=prolog><span style=display:flex><span><span style=color:#a6e22e>pd1</span>(<span style=color:#e6db74>?film</span>)<span style=color:#e6db74>:</span>PossibleDay[<span style=color:#e6db74>screenings-&gt;</span><span style=color:#a6e22e>ps1</span>(<span style=color:#e6db74>?film</span>)<span style=color:#e6db74>:</span>Screening[<span style=color:#e6db74>slot-&gt;</span>First,<span style=color:#e6db74>film-&gt;?film</span>]] :- <span style=color:#e6db74>?</span>film:Film.
</span></span></code></pre></div><p>Here you can see that we are making a rule. The body or condition of the rule is <code>?film:Film</code>. That means “there is an object in the database, which I will call ‘film’, which is an object of type Film.”</p><p>If you ask that question of the database, it will tell you that there are three such objects, and list them. So here, our rule will be triggered three times, and each time, the conclusion of the rule we be proven true.</p><p>The head of the rule is much more complicated, but basically says “there is an object called pd1(FilmName) which is a Possible Day, and has a screening which is an object called ps1(FilmName), which is a screening of FilmName in the First slot.”</p><p>The difference between “creating an object” and “proving that an object exists” is actually no difference at all. That’s because all statements in Ergo Lite are actually Rules, but some of them have parts missing.</p><p>A rule is <code>head :- body.</code>, and says “head is proven if body is true.” If you leave out the body, you get <code>head :-.</code>, which you are allowed to shorten to <code>head.</code>. If a rule has no body, then the rule is always true. So a rule with no body is called a “fact.” Proving something is true with a rule, and stating that it is true with a “fact” are just different ways of proving that it is true.</p><p>Then, if you have a rule with no head, you get <code>:- body.</code>, which you are allowed to state as <code>?- body.</code>. If you say “when this is true, nothing is proven”, by leaving out the head of a rule, Ergo Lite treats that statement as the question “When is this true?” and will search the database for matching objects and display them for you.</p><p>Queries are usually used when using Ergo Lite’s interactive terminal. We will use queries later in the series to get answers to our questions.</p><p>So we have created a new Possible Day object pd1(Film) for each Film in the database.</p><p>We can do the same thing for two-day and three-day possible schedules. Of course, in a two day schedule, there are two films, and we need to be explicit that they are different from one another, and we need to create two screenings.</p><p>Note that we could, if we wanted, generate invalid possible days by including days in which the same film is shown twice. We could then rely on our rules to distinguish between valid and invalid schedules. But if we followed that strategy, we would end up with nearly 60,000 possible schedules, each of which would need to be checked for validity each time we wanted to ask a question about only the valid ones. That would make our code much too slow to be usable.</p><p>Because we know we are only going to be asking questions about valid schedules, we can avoid that sort of problem by limiting the examples that we create to those that are as valid as we can make them. Here, we can make them more valid my making sure that films are not repeated in a given day.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-prolog data-lang=prolog><span style=display:flex><span><span style=color:#a6e22e>pd2</span>(<span style=color:#e6db74>?first</span>,<span style=color:#e6db74>?second</span>)<span style=color:#e6db74>:</span>PossibleDay,  
</span></span><span style=display:flex><span><span style=color:#a6e22e>pd2</span>(<span style=color:#e6db74>?first</span>,<span style=color:#e6db74>?second</span>)[<span style=color:#e6db74>screenings-&gt;</span><span style=color:#a6e22e>ps2</span>(<span style=color:#e6db74>?second</span>)<span style=color:#e6db74>:</span>Screening],  
</span></span><span style=display:flex><span><span style=color:#a6e22e>pd2</span>(<span style=color:#e6db74>?first</span>,<span style=color:#e6db74>?second</span>)[<span style=color:#e6db74>screenings-&gt;</span><span style=color:#a6e22e>ps1</span>(<span style=color:#e6db74>?first</span>)<span style=color:#e6db74>:</span>Screening],  
</span></span><span style=display:flex><span><span style=color:#a6e22e>ps2</span>(<span style=color:#e6db74>?second</span>)[<span style=color:#e6db74>slot-&gt;</span>Second,<span style=color:#e6db74>film-&gt;?second</span>],  
</span></span><span style=display:flex><span><span style=color:#a6e22e>ps1</span>(<span style=color:#e6db74>?first</span>)[<span style=color:#e6db74>slot-&gt;</span>First,<span style=color:#e6db74>film-&gt;?first</span>] :-  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?</span>first:Film,  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?</span>second:Film,  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?first</span> !<span style=color:#f92672>==</span> <span style=color:#e6db74>?second</span>.
</span></span></code></pre></div><p>And then, for three day schedules, the pattern continues.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-prolog data-lang=prolog><span style=display:flex><span><span style=color:#a6e22e>pd3</span>(<span style=color:#e6db74>?first</span>,<span style=color:#e6db74>?second</span>,<span style=color:#e6db74>?third</span>)<span style=color:#e6db74>:</span>PossibleDay,  
</span></span><span style=display:flex><span><span style=color:#a6e22e>pd3</span>(<span style=color:#e6db74>?first</span>,<span style=color:#e6db74>?second</span>,<span style=color:#e6db74>?third</span>)[<span style=color:#e6db74>screenings-&gt;</span><span style=color:#a6e22e>ps1</span>(<span style=color:#e6db74>?first</span>)<span style=color:#e6db74>:</span>Screening],  
</span></span><span style=display:flex><span><span style=color:#a6e22e>pd3</span>(<span style=color:#e6db74>?first</span>,<span style=color:#e6db74>?second</span>,<span style=color:#e6db74>?third</span>)[<span style=color:#e6db74>screenings-&gt;</span><span style=color:#a6e22e>ps2</span>(<span style=color:#e6db74>?second</span>)<span style=color:#e6db74>:</span>Screening],  
</span></span><span style=display:flex><span><span style=color:#a6e22e>pd3</span>(<span style=color:#e6db74>?first</span>,<span style=color:#e6db74>?second</span>,<span style=color:#e6db74>?third</span>)[<span style=color:#e6db74>screenings-&gt;</span><span style=color:#a6e22e>ps3</span>(<span style=color:#e6db74>?third</span>)<span style=color:#e6db74>:</span>Screening],  
</span></span><span style=display:flex><span><span style=color:#a6e22e>ps3</span>(<span style=color:#e6db74>?third</span>)[<span style=color:#e6db74>slot-&gt;</span>Third,<span style=color:#e6db74>film-&gt;?third</span>],  
</span></span><span style=display:flex><span><span style=color:#a6e22e>ps2</span>(<span style=color:#e6db74>?second</span>)[<span style=color:#e6db74>slot-&gt;</span>Second,<span style=color:#e6db74>film-&gt;?second</span>],  
</span></span><span style=display:flex><span><span style=color:#a6e22e>ps1</span>(<span style=color:#e6db74>?first</span>)[<span style=color:#e6db74>slot-&gt;</span>First,<span style=color:#e6db74>film-&gt;?first</span>] :-  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?</span>first:Film,  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?</span>second:Film,  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?</span>third:Film,  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?first</span> !<span style=color:#f92672>==</span> <span style=color:#e6db74>?second</span>,  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?first</span> !<span style=color:#f92672>==</span> <span style=color:#e6db74>?third</span>,  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?second</span> !<span style=color:#f92672>==</span> <span style=color:#e6db74>?third</span>.
</span></span></code></pre></div><p>So now we have created all the possible days. As it turns out, there are only 15. Now we are going to need to combine three of these possible valid days to create all the valid festival schedules.</p><p>To do this we tell the code that a TestSchedule is a type of Schedule.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-prolog data-lang=prolog><span style=display:flex><span>TestSchedule<span style=color:#e6db74>:</span>Schedule
</span></span></code></pre></div><p>Then we tell it that if there are three PossibleDays, there is a test schedule object with those three PossibleDays. In order to make these Schedules as valid as possible, and limit the size of the database we need to search, we will create a test schedule only out of days that are valid for the three days of the festival.</p><p>To do this, we need reformulate our Thursday, Friday and Saturday rules to determine not whether a schedule is valid, but whether a possible day is valid for that day of the week. We can do that by taking the three day rules, and the rule for “last”, and change references to Schedule into reference to PossibleDay, and by removing references to specific days. The code looks like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-prolog data-lang=prolog><span style=display:flex><span><span style=color:#e6db74>?x</span>[<span style=color:#e6db74>last-&gt;?film</span>] :-  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?</span>x:PossibleDay[<span style=color:#e6db74>screenings-&gt;?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>s</span>[<span style=color:#e6db74>slot-&gt;?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>slot</span>,<span style=color:#e6db74>film-&gt;?film</span>]],  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>\naf</span> <span style=color:#e6db74>?x</span>[<span style=color:#e6db74>screenings-&gt;?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>os</span>[<span style=color:#e6db74>slot-&gt;?</span><span style=color:#66d9ef>_</span>[<span style=color:#e6db74>after-&gt;?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>slot</span>]]].
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>?x</span>[<span style=color:#e6db74>thursday_eligible-&gt;\true</span>] :-  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?</span>x:PossibleDay[<span style=color:#e6db74>screenings-&gt;?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>s</span>[<span style=color:#e6db74>film-&gt;</span>Harvest]],  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?x</span>[<span style=color:#e6db74>last-&gt;</span>Harvest].
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>?x</span>[<span style=color:#e6db74>friday_eligible-&gt;\true</span>] :-  
</span></span><span style=display:flex><span>    ( <span style=color:#f92672>//</span> <span style=color:#e6db74>either</span>  
</span></span><span style=display:flex><span>        <span style=color:#e6db74>?</span>x:PossibleDay[<span style=color:#e6db74>last-&gt;</span>Greed],  
</span></span><span style=display:flex><span>        <span style=color:#e6db74>\naf</span> <span style=color:#a6e22e>exists</span>(<span style=color:#e6db74>?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>s</span>)<span style=color:#e6db74>^?x</span>[<span style=color:#e6db74>screenings-&gt;?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>s</span>[<span style=color:#e6db74>film-&gt;</span>Limelight]]  
</span></span><span style=display:flex><span>    ) <span style=color:#e6db74>\</span><span style=color:#a6e22e>or</span> (  
</span></span><span style=display:flex><span>        <span style=color:#e6db74>?</span>x:PossibleDay[<span style=color:#e6db74>last-&gt;</span>Limelight],  
</span></span><span style=display:flex><span>        <span style=color:#e6db74>\naf</span> <span style=color:#a6e22e>exists</span>(<span style=color:#e6db74>?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>s</span>)<span style=color:#e6db74>^?x</span>[<span style=color:#e6db74>screenings-&gt;?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>s</span>[<span style=color:#e6db74>film-&gt;</span>Greed]]  
</span></span><span style=display:flex><span>    ).
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>?x</span>[<span style=color:#e6db74>saturday_eligible-&gt;\true</span>] :-  
</span></span><span style=display:flex><span>    ( <span style=color:#f92672>//</span> <span style=color:#e6db74>either</span>  
</span></span><span style=display:flex><span>        <span style=color:#e6db74>?</span>x:PossibleDay[<span style=color:#e6db74>last-&gt;</span>Greed],  
</span></span><span style=display:flex><span>        <span style=color:#e6db74>\naf</span> <span style=color:#a6e22e>exists</span>(<span style=color:#e6db74>?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>s</span>)<span style=color:#e6db74>^?x</span>[<span style=color:#e6db74>screenings-&gt;?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>s</span>[<span style=color:#e6db74>film-&gt;</span>Harvest]]  
</span></span><span style=display:flex><span>    ) <span style=color:#e6db74>\</span><span style=color:#a6e22e>or</span> (  
</span></span><span style=display:flex><span>        <span style=color:#e6db74>?</span>x:PossibleDay[<span style=color:#e6db74>last-&gt;</span>Harvest],  
</span></span><span style=display:flex><span>        <span style=color:#e6db74>\naf</span> <span style=color:#a6e22e>exists</span>(<span style=color:#e6db74>?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>s</span>)<span style=color:#e6db74>^?x</span>[<span style=color:#e6db74>screenings-&gt;?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>s</span>[<span style=color:#e6db74>film-&gt;</span>Greed]]  
</span></span><span style=display:flex><span>    ).
</span></span></code></pre></div><p>Now we can write a rule that says a test schedule exists for each combination of a valid Thursday, Friday, and Saturday. The name given to these objects is designed so that when we search for the name of a test schedule, its name will tell us everything about its contents.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-prolog data-lang=prolog><span style=display:flex><span><span style=color:#a6e22e>test_sched</span>(<span style=color:#e6db74>?ps1</span>,<span style=color:#e6db74>?ps2</span>,<span style=color:#e6db74>?ps3</span>)<span style=color:#e6db74>:</span>TestSchedule[<span style=color:#e6db74>thursday-&gt;?ps1</span>,<span style=color:#e6db74>friday-&gt;?ps2</span>,<span style=color:#e6db74>saturday-&gt;?ps3</span>] :-  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?ps1:</span>PossibleDay[<span style=color:#e6db74>thursday_eligible-&gt;\true</span>],  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?ps2:</span>PossibleDay[<span style=color:#e6db74>friday_eligible-&gt;\true</span>],  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?ps3:</span>PossibleDay[<span style=color:#e6db74>saturday_eligible-&gt;\true</span>].
</span></span></code></pre></div><p>Then we say that if a TestSchedule’s Thursday attribute (which is a possible day) has a screening, then the TestSchedule also has that screening object.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-prolog data-lang=prolog><span style=display:flex><span><span style=color:#e6db74>?x</span>[<span style=color:#e6db74>screenings-&gt;</span><span style=color:#a6e22e>s</span>(<span style=color:#e6db74>r</span>,<span style=color:#e6db74>?f</span>,<span style=color:#e6db74>?s</span>)<span style=color:#e6db74>:</span>Screening[<span style=color:#e6db74>film-&gt;?f</span>,<span style=color:#e6db74>slot-&gt;?s</span>,<span style=color:#e6db74>day-&gt;</span>Thursday]] :-  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?</span>x:TestSchedule[<span style=color:#e6db74>thursday-&gt;?</span><span style=color:#66d9ef>_</span>[<span style=color:#e6db74>screenings-&gt;?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>y</span>[<span style=color:#e6db74>film-&gt;?f</span>,<span style=color:#e6db74>slot-&gt;?s</span>]]].
</span></span></code></pre></div><p>Then we do the same for Friday and Saturday.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-prolog data-lang=prolog><span style=display:flex><span><span style=color:#e6db74>?x</span>[<span style=color:#e6db74>screenings-&gt;</span><span style=color:#a6e22e>s</span>(<span style=color:#e6db74>f</span>,<span style=color:#e6db74>?f</span>,<span style=color:#e6db74>?s</span>)<span style=color:#e6db74>:</span>Screening[<span style=color:#e6db74>film-&gt;?f</span>,<span style=color:#e6db74>slot-&gt;?s</span>,<span style=color:#e6db74>day-&gt;</span>Friday]] :-  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?</span>x:TestSchedule[<span style=color:#e6db74>friday-&gt;?</span><span style=color:#66d9ef>_</span>[<span style=color:#e6db74>screenings-&gt;?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>y</span>[<span style=color:#e6db74>film-&gt;?f</span>,<span style=color:#e6db74>slot-&gt;?s</span>]]].
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>?x</span>[<span style=color:#e6db74>screenings-&gt;</span><span style=color:#a6e22e>s</span>(<span style=color:#e6db74>s</span>,<span style=color:#e6db74>?f</span>,<span style=color:#e6db74>?s</span>)<span style=color:#e6db74>:</span>Screening[<span style=color:#e6db74>film-&gt;?f</span>,<span style=color:#e6db74>slot-&gt;?s</span>,<span style=color:#e6db74>day-&gt;</span>Saturday]] :-  
</span></span><span style=display:flex><span>    <span style=color:#e6db74>?</span>x:TestSchedule[<span style=color:#e6db74>saturday-&gt;?</span><span style=color:#66d9ef>_</span>[<span style=color:#e6db74>screenings-&gt;?</span><span style=color:#66d9ef>_</span><span style=color:#e6db74>y</span>[<span style=color:#e6db74>film-&gt;?f</span>,<span style=color:#e6db74>slot-&gt;?s</span>]]].
</span></span></code></pre></div><p>We have now generated all of the possible valid schedules, and a few invalid ones, because we did not check to make sure that each film is shown at least once. Of the 80 possible schedules generated, 16 are not valid for that reason. You could modify the rule that creates test_sched objects to check to see whether each film is included in one of the three possible days at least once, but that is left as an exercise to the reader.</p><p>Now we have the data that we need in order to be able to search all the possible Valid Schedules, and we’re ready to <a href=https://medium.com/@jason_90344/a-computer-takes-the-lsat-question-6-884c47d55b2b>start answering questions</a>.</p><p>Jason Morris is an LLM Candidate in Computational Law at the University of Alberta Faculty of Law, the operator of <a href=https://www.roundtablelaw.ca>Round Table Law</a>, and co-founder of <a href=https://www.lemmalegal.com>Lemma Legal Consulting</a>. He can be reached at <a href=https://www.twitter.com/RoundTableLaw>@RoundTableLaw</a> on Twitter. If you need help getting computers to do law, feel free to get in touch.</p><ul class=pa0></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links"><p class="f5 b mb3">What's in this post</p><nav id=TableOfContents></nav></div><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links"><p class="f5 b mb3">Related</p><ul class="pa0 list"><li class=mb2><a href=/post/roundtablelaw/a-computer-takes-the-lsat-question-6-884c47d55b2b/>A Computer Takes the LSAT: Question 6</a></li><li class=mb2><a href=/post/roundtablelaw/a-computer-takes-the-lsat-question-7-aa98d14d3217/>A Computer Takes the LSAT: Question 7</a></li><li class=mb2><a href=/post/roundtablelaw/a-computer-takes-the-lsat-question-8-bf39194443da/>A Computer Takes the LSAT: Question 8</a></li><li class=mb2><a href=/post/roundtablelaw/a-computer-takes-the-lsat-question-9-f33d7200f48f/>A Computer Takes the LSAT: Question 9</a></li><li class=mb2><a href=/post/roundtablelaw/a-computer-takes-the-lsat-question-10-2172137fdc57/>A Computer Takes the LSAT: Question 10</a></li><li class=mb2><a href=/post/roundtablelaw/a-computer-takes-the-lsat-the-preamble-8b25c994ef7c/>A Computer Takes the LSAT: The Preamble</a></li><li class=mb2><a href=/post/roundtablelaw/a-computer-takes-the-lsat-introduction-3a65fd8b982/>A Computer Takes the LSAT: Introduction</a></li></ul></div></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://JasonMorrisSC.github.io>&copy; Jason Morris 2022</a><div><div class=ananke-socials><a href=https://twitter.com/RoundTableLaw target=_blank class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:{{ .fill }}"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></div></footer></body></html>