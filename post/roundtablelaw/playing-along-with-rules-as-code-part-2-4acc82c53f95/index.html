<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>Playing Along With Rules as Code Part 2 | Jason Morris</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content="Scott McNaughton’s latest blog post about the Government of Canada’s Rules as Code project indicates that they have decided to change the…">
<meta name=generator content="Hugo 0.92.1">
<meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<link rel=stylesheet href=/ananke/css/main.min.css>
<meta property="og:title" content="Playing Along With Rules as Code Part 2">
<meta property="og:description" content="Scott McNaughton’s latest blog post about the Government of Canada’s Rules as Code project indicates that they have decided to change the…">
<meta property="og:type" content="article">
<meta property="og:url" content="https://JasonMorrisSC.github.io/post/roundtablelaw/playing-along-with-rules-as-code-part-2-4acc82c53f95/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2020-02-24T21:21:02+00:00">
<meta property="article:modified_time" content="2020-02-24T21:21:02+00:00">
<meta itemprop=name content="Playing Along With Rules as Code Part 2">
<meta itemprop=description content="Scott McNaughton’s latest blog post about the Government of Canada’s Rules as Code project indicates that they have decided to change the…"><meta itemprop=datePublished content="2020-02-24T21:21:02+00:00">
<meta itemprop=dateModified content="2020-02-24T21:21:02+00:00">
<meta itemprop=wordCount content="1427">
<meta itemprop=keywords content><meta name=twitter:card content="summary">
<meta name=twitter:title content="Playing Along With Rules as Code Part 2">
<meta name=twitter:description content="Scott McNaughton’s latest blog post about the Government of Canada’s Rules as Code project indicates that they have decided to change the…">
</head>
<body class="ma0 avenir bg-near-white">
<header>
<div class=bg-black>
<nav class="pv3 ph3 ph4-ns" role=navigation>
<div class="flex-l justify-between items-center center">
<a href=/ class="f3 fw2 hover-white no-underline white-90 dib">
Jason Morris
</a>
<div class="flex-l items-center">
<ul class="pl0 mr3">
<li class="list f5 f4-ns fw4 dib pr3">
<a class="hover-white no-underline white-90" href=/about/ title="About Jason page">
About Jason
</a>
</li>
<li class="list f5 f4-ns fw4 dib pr3">
<a class="hover-white no-underline white-90" href=/project/ title="Projects page">
Projects
</a>
</li>
<li class="list f5 f4-ns fw4 dib pr3">
<a class="hover-white no-underline white-90" href=/post/ title="Rules as Code Diary page">
Rules as Code Diary
</a>
</li>
</ul>
<div class=ananke-socials>
<a href=https://twitter.com/RoundTableLaw target=_blank class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window">
<span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:{{ .fill }}"/></svg>
</span>
<span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg>
</span></a>
</div>
</div>
</div>
</nav>
</div>
</header>
<main class=pb7 role=main>
<article class="flex-l flex-wrap justify-between mw8 center ph3">
<header class="mt4 w-100">
<aside class="instapaper_ignoref b helvetica tracked">
RULES AS CODE DIARY
</aside>
<div id=sharing class="mt3 ananke-socials">
<a href="https://twitter.com/share?url=https://JasonMorrisSC.github.io/post/roundtablelaw/playing-along-with-rules-as-code-part-2-4acc82c53f95/&text=Playing%20Along%20With%20Rules%20as%20Code%20Part%202" class="ananke-social-link twitter no-underline" aria-label="share on Twitter">
<span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:{{ .fill }}"/></svg>
</span>
</a>
</div>
<h1 class="f1 athelas mt3 mb1">Playing Along With Rules as Code Part 2</h1>
<time class="f6 mv4 dib tracked" datetime=2020-02-24T21:21:02Z>February 24, 2020</time>
</header>
<div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p><a href=https://medium.com/@mcnaughton.sa/week-50-reflections-on-rules-as-code-5878ff42d43c>Scott McNaughton’s latest blog post</a> about the Government of Canada’s Rules as Code project indicates that they have decided to change the scope of the project a little bit.</p>
<p>The first thing is that they have decided they are worried primarily about being able to answer questions about how much vacation pay is due, and not questions about entitlement to vacation periods.</p>
<p>The second thing he mentions is that they want to be able to take into account what is called “protected leave.” When calculating how much vacation pay a person is owed, how long the have been working with you matters. When they have been working for you for a period of time, but have also had leave during that period of time, some of that leave may count as how long they have been working with you, and some of it may not.</p>
<p>For example, a certain amount of medical leave counts as employment but after that it doesn’t anymore.</p>
<h3 id=a-critique>A critique</h3>
<p>I have a critique to offer. I’m a little concerned that there is a risk of getting away from doing a Rules as Code experiment, and getting into a programming experiment.</p>
<p>What’s the difference? Rules as Code has an extra layer compared to a basic programming task.</p>
<p>With rules as code, you start with a law, you create a digital representation of that law, and then computers can use that digital representation for many of the things that people could use the law for. The digital representation of the law is the middle layer. The advantage of using it as a middle layer, instead of writing code to answer a specific question, is that you can re-use it to answer multiple questions, and you can change it when the law changes and apply those changes to all the applications that use the representation.</p>
<p>If you take out that middle layer, and just write software that answers a specific question, then what you’re doing isn’t Rules as Code, anymore, it’s just… programming.</p>
<p>So I’m a little worried about defining a Rules as Code experiment in terms of the single question it is supposed to answer, or the sections of law that relate to answering that question. Because it is possible to succeed at writing software to answer a specific question, and never really have represented the meaning of the rules in a way that could be reused.</p>
<p>The “big idea” in Rules as Code is co-drafting. Co-drafting is the idea that legislation should be written in a natural language and in code at the same time so as to both make it easier to implement, and to end up with better laws. And it’s rewarding to see that this benefit is starting to make itself clear to the people in the Government of Canada involved in the project. Scott reports that one of the drafters involved told him as much specifically.</p>
<p>But imagine you are drafting a law, and you are trying to do co-drafting. You are trying to draft the law in a natural language and in code at the same time. If the point is to create a digital representation of the law that can be used for as much as possible, you don’t have any questions to start from. You can’t know in advance which questions are going to be the important questions. And the representation is supposed to be able to address as many of them as possible.</p>
<p>So from my perspective, hard-core Rules as Code should be agnostic as to the questions, and should start from the meaning of specific sections. Adding or removing sections on the basis of the question you’re trying to answer, and defining success as being able to answer only that question risk missing the point.</p>
<p>Now, in the real world, what is important in the short term is demonstrating the practical benefits of Rules as Code, not demonstrating the greatest possible practical benefits of Rules as Code. We need to take baby steps. So this is not to say that the Government project is doing anything wrong. But it might be a good idea to look for opportunities to use the representation you generate to answer more than one question, as secondary objective.</p>
<h3 id=moving-forward--changing-tools>Moving Forward — Changing Tools</h3>
<p>The point here is to play along. So I’m going to follow along with the idea that we’re not worried about vacation time, we’re only worried about vacation pay. That’s a simple task of reducing the scope.</p>
<p>But protected leave is more complicated. The best way of encoding the answers to questions like “at this point in time for how long had this fact been true?” is using something called temporal variables.</p>
<p>A normal variable has a value. A normal (non-temporal) boolean variable, for example, can only have a value of True or False. A temporal variable, however, has values that change over time. So a temporal boolean variable is True or False as of a given time, and the value can change back and forth.</p>
<p>Temporal variables are very useful when automating legal rules that deal with the passage of time because you can logically combine temporal values to create new ones by saying very clearly understandable things like:</p>
<pre tabindex=0><code>the person is employed for the purpose of calculating vacation pay if  
   the person is employed  
   and  
   the person is not on unprotected leave
</code></pre><p>In that statement “person” is an object, it is has two temporal boolean variables, “on protected leave”, and “employed”. The “on protected leave” can be reversed to create “not on protected leave”, and then that and “employed” are used to create “employed for the purpose of calculating vacation pay”.</p>
<p>Once you have this new temporal boolean variable, it becomes very easy to ask question like “how long has the employed for the purpose of calculating vacation pay” variable been set to “True” prior to and including today?</p>
<p>The problem is that Flora-2, the programming language I started playing along with, does not support temporal values (as far as I know). Because it is open source, in theory I could write a library to make it support temporal values, but that’s a relatively large project that I don’t have time for.</p>
<p>So, I can either leave out protected leave, and continue using Flora-2, or I can include protected leave, use Flora-2 and implement it in a much more complicated way, or include it and use a tool for temporal values.</p>
<p>The only tool I’m aware of that supports temporal values out-of-the-box is Oracle Intelligent Advisor (until last year known as Oracle Policy Automation).</p>
<p>There are a couple of reasons using OIA is less than ideal for a Rules as Code project. First, it’s proprietary software. It is free to use for learning purposes, and being proprietary doesn’t prevent it from being used inside government. But a proprietary format does limit the degree to which the encodings could be shared with the public, which is one of the long-term objectives of Rules as Code.</p>
<p>Second, OIA doesn’t include defeasibility, so you end up with all the problems of encoding the rules in a tool that doesn’t allow you to specify exceptions.</p>
<p>But there are upsides to using OIA, too. First, it allows you to go quickly from an encoding of the rules, and the posing of a question, to generating a web interface that will allow you to generate answers to those questions. Second, it has interesting visual representations of temporal values as value graphs in the design tools. So you could create a complicated fact scenario, and then show how the value of the person’s entitlement to vacation pay had changed over time. Third, OIA has explainability built-in, so the web tool you generate will give you an answer, and also give you a detailed explanation for why that answer is correct.</p>
<p>All things told, I think we will have more fun if we implement in OIA as opposed to Flora-2, so despite my strong preference for open source tools, for this project I’m going to hold my nose and switch.</p>
<p>I’m also going to continue to advocate for people, including the Government of Canada, to put real resources toward the development of open source Rules as Code technologies that have all the things we need: defeasibility, explainability, temporal reasoning, links to source materials, interactive testing between drafters and clients, publishing rulesets as question-answering tools over API, ease of use for non-programmers, ease of integration for developers, and more.</p>
<p>So stay tuned. Next post, I’m starting over in a new piece of software.</p>
<ul class=pa0>
</ul>
<div class="mt6 instapaper_ignoref">
</div>
</div>
<aside class="w-30-l mt6-l"><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
<p class="f5 b mb3">What's in this post</p>
<nav id=TableOfContents>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href=#a-critique>A critique</a></li>
<li><a href=#moving-forward--changing-tools>Moving Forward — Changing Tools</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</div>
<div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
<p class="f5 b mb3">Related</p>
<ul class="pa0 list">
<li class=mb2>
<a href=/post/roundtablelaw/playing-along-with-rules-as-code-6c837b42a33e/>Playing Along with Rules as Code</a>
</li>
</ul>
</div>
</aside>
</article>
</main>
<footer class="bg-black bottom-0 w-100 pa3" role=contentinfo>
<div class="flex justify-between">
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://JasonMorrisSC.github.io>
&copy; Jason Morris 2022
</a>
<div>
<div class=ananke-socials>
<a href=https://twitter.com/RoundTableLaw target=_blank class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window">
<span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:{{ .fill }}"/></svg>
</span>
<span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg>
</span></a>
</div></div>
</div>
</footer>
</body>
</html>